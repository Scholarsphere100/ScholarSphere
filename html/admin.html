<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="../css/admin.css" />
</head>
<body>

<header class="top-bar">
  <section class="profile">
    <img src="../admin images/R (2).jpeg" alt="Admin" class="avatar" />
    <h1>Admin Dashboard</h1>
  </section>
  <nav class="top-bar-content">
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="../index.html">Sign Out</a></li>
    </ul>
  </nav>
</header>

<main class="dashboard" id="mainContent">
  <section class="left-panel">
    <article class="info">
      <h2>Welcome, Admin</h2>
      <p>Use this dashboard to manage researcher and reviewer applications. Approve or reject entries and track research activity.</p>
    </article>

    <article class="progress-ring">
      <svg viewBox="0 0 36 36" class="circular-chart blue">
        <path class="circle-bg"
              d="M18 2.0845
                 a 15.9155 15.9155 0 0 1 0 31.831
                 a 15.9155 15.9155 0 0 1 0 -31.831"/>
        <path class="circle"
              id="circleProgress"
              stroke-dasharray="0, 100"
              d="M18 2.0845
                 a 15.9155 15.9155 0 0 1 0 31.831
                 a 15.9155 15.9155 0 0 1 0 -31.831"/>
        <text x="18" y="20.35" class="percentage" id="percentageText">0%</text>
      </svg>
      <p class="circle-label">Approval Rate (Researchers & Reviewers)</p>
    </article>
<!--Progree report modal-->
<!-- Project Completion Report Section -->
<article class="report-section">
  <header>
    <h2>Project Completion Report</h2>
    <button id="generateReportBtn" class="report-btn">
      <i class="fas fa-file-pdf"></i> Generate Report
    </button>
    <button id="downloadReportBtn" class="report-btn">
      <i class="fas fa-download"></i> Download Report
    </button>
  </header>
 <section class="report-content">
    <table id="completionReportTable">
      <thead>
        <tr>
          <th>Project</th>
          <th>Total Milestones</th>
          <th>Completed</th>
          <th>Completion Rate</th>
          <th>Avg. Progress</th>
        </tr>
      </thead>
      <tbody>
        <!-- Populated via JS -->
      </tbody>
    </table>
  </section>
  
<article class="report-section">
  <!--Funding report-->
  <header>
    <h2>Funding Report</h2>
    <button id="generateFundingReportBtn" class="report-btn">
      <i class="fas fa-file-pdf"></i> Generate Funding Report
    </button>
    <button id="downloadFundingReportBtn" class="report-btn">
      <i class="fas fa-download"></i> Download Report
    </button>
  </header>
  <section class="report-content">
    <table id="fundingReportTable">
      <thead>
        <tr>
          <th>Grant Name</th>
          <th>Agency</th>
          <th>Total Amount</th>
          <th>Used Amount</th>
          <th>Available</th>
          <th>Utilization %</th>
          <th>Start Date</th>
        </tr>
      </thead>
      <tbody>
        <!-- Populated via JS -->
      </tbody>
    </table>



    <article class="researches">
      <h2>Current Research Projects</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Participants</th>
          </tr>
        </thead>
        <!----------This Table Shows The Current Projects and the Number of Participants in each Project---------->
        <tbody id="researchTable">
          <tr><td>AI in Healthcare</td><td>152</td></tr>
          <tr><td>Climate Impact Study</td><td>89</td></tr>
        </tbody>
      </table>
    </article>
  </section>


  <section class="right-panel">
    <article class="pending">
      <h2>Pending Researchers</h2>
      <!----------This Shows The List of Pending Researchers to Approve or Reject--------->
      <ul id="pendingResearchers">
        <li>
          <p>Jane Doe</p>
          <section class="btn-group">
            <button onclick="approve(this, 'approvedResearchers')"  class="approve-btn">Approve</button>
            <button onclick="reject(this)"  class="reject-btn">Reject</button>
          </section>
        </li>
        <li>
          <p>John Smith</p>
          <section class="btn-group">
            <button onclick="approve(this, 'approvedResearchers')"  class="approve-btn">Approve</button>
            <button onclick="reject(this)" class = "reject-btn">Reject</button>
          </section>
        </li>
      </ul>
    </article>

    <article class="approved">
      <h2>Approved Researchers</h2>
      <!-----------This Shows a List of All Approved Researchers----------->
      <ul id="approvedResearchers">
        <li>Emily Chen</li>
      </ul>
    </article>
    
    
    <article class="pending">
      <h2>Pending Reviewers</h2>
      <!---------------List of Pending Reviewers--------------->
      <ul id="pendingReviewers">
        <li>
          <p>Michael Roy</p>
          <section class="btn-group">
            <button onclick="approve(this, 'approvedReviewers')" class="approve-btn">Approve</button>
            <button onclick="reject(this)" class = "reject-btn">Reject</button>
          </section>
        </li>
      </ul>
    </article>

    <!---------Approved Reviewers----------->
    <article class="approved">
      <h2>Approved Reviewers</h2>
      <ul id="approvedReviewers">
        <li>Sarah Lee</li>
      </ul>
    </article>
  </section>
</main>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<script src="../js/admin.js"></script>

</body>
</html>
